<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>&#30693;&#35672;&#24235;&#20171;&#32057; </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="&#30693;&#35672;&#24235;&#20171;&#32057; ">
    <meta name="generator" content="docfx 2.58.9.0">
    <meta name="google-site-verification" content="wackHW3mx9OzoWNdH73Ucfx-Tgn27NaVqlQ-dzKaBfw">
    
    <link rel="shortcut icon" href="../../../../images/favicon.ico">
    <link rel="stylesheet" href="../../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../../styles/main.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet"> 
    <meta property="docfx:navrel" content="../../../../toc.html">
    <meta property="docfx:tocrel" content="../../toc.html">
    
    
    
  </head>  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../../index.html">
                <img id="logo" class="svg" src="../../../../images/logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="知識庫介紹">知識庫介紹</h1>

<p>此版本知識庫分為兩種，一種為&quot;知識庫&quot;，一種為&quot;問答對&quot;。</p>
<h2 id="知識庫表格問答">知識庫[表格問答]</h2>
<p>用戶只需要填寫實體與屬性值，不用在意意圖說法、詞槽如何填寫，快速上手。
舉例:</p>
<ul>
<li>實體加上屬性，如:<strong>Pixel 6</strong>的<strong>電池容量</strong>是多少?=&gt; 實體為&quot;Pixel 6&quot;，屬性為&quot;電池容量&quot;。</li>
<li>屬性條件查詢滿足條件之實體，如:<strong>品牌</strong>是<strong>ASUS</strong>的手機有哪些?=&gt; 條件為&quot;品牌&quot;等於&quot;ASUS&quot;。</li>
</ul>
<h3 id="支援能力">支援能力</h3>
<table>
<thead>
<tr>
<th>問題型態</th>
<th>支持問法</th>
<th>支援</th>
<th>範例</th>
</tr>
</thead>
<tbody>
<tr>
<td>簡單查詢</td>
<td>單屬性</td>
<td>v</td>
<td>Pixel 6的電池容量是多少?</td>
</tr>
<tr>
<td></td>
<td>多屬性</td>
<td>v</td>
<td>Pixel 6的電池容量是多少?有沒有支援快充?</td>
</tr>
<tr>
<td></td>
<td>多實體</td>
<td>v</td>
<td>Pixel 6和iphone12的電池容量是多少?有沒有支援快充?</td>
</tr>
<tr>
<td>條件查詢</td>
<td>屬性條件</td>
<td>v</td>
<td>價格大於1萬的手機有哪些</td>
</tr>
<tr>
<td></td>
<td>屬性排序</td>
<td>v</td>
<td>價格最貴的手機是哪支?</td>
</tr>
<tr>
<td>推理計算</td>
<td>聚合計算(求和、求平均)</td>
<td>x(部分支援求和)</td>
<td>[第一句]我想找國別是日系的車?[第二句]這些價格總共多少?</td>
</tr>
<tr>
<td></td>
<td>判斷計算</td>
<td>v</td>
<td>Pixel 6有沒有支援快充?[同屬性查詢]</td>
</tr>
<tr>
<td></td>
<td>比較計算</td>
<td>x</td>
<td>iphone12比Pixel 6貴了多少?</td>
</tr>
<tr>
<td></td>
<td>分組、行計算</td>
<td>x</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="何時使用表格問答">何時使用表格問答</h3>
<p>一般搜尋只能顯示根據搜尋的&quot;文字&quot;有關的文章，例如：我要找尋作者為xxx的文章，我們無法從文字知道你想表達的問題，通常會拆分成&quot;作者&quot;、&quot;xxx&quot;，並新增一個欄位讓使用者選擇作者是誰。</p>
<p>如果查詢的資料可以有系統的分類，則同樣問句&quot;我要找尋作者為xxx的文章&quot;，自動拆分為作者=xxx時，可以快速滿足用戶需求。</p>
<ul>
<li>相對於其他場景，表格問答相對維護容易。</li>
</ul>
<h3 id="使用流程">使用流程</h3>
<table>
<thead>
<tr>
<th>步驟</th>
<th>必要性</th>
<th>說明</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>v</td>
<td>點選新增知識庫</td>
</tr>
<tr>
<td>2</td>
<td>v</td>
<td>新增知識庫表</td>
</tr>
<tr>
<td>3</td>
<td>x</td>
<td>修改知識庫表</td>
</tr>
<tr>
<td>4</td>
<td>v</td>
<td>新增知識庫資料</td>
</tr>
<tr>
<td>5</td>
<td>v</td>
<td>通過領域綁定知識庫</td>
</tr>
<tr>
<td>6</td>
<td>v</td>
<td>發布開發版本</td>
</tr>
<tr>
<td>7</td>
<td>x</td>
<td>測試</td>
</tr>
<tr>
<td>8</td>
<td>v</td>
<td>發布測試版本</td>
</tr>
</tbody>
</table>
<h3 id="1新增知識庫">1.新增知識庫</h3>
<ul>
<li>1.點選[+]</li>
<li>2.在&quot;新增知識庫&quot;填寫點標[1]知識庫表、點標[2]通用詞、點標[3]對應辭典</li>
<li>3.當填寫完成後，底下的新增會亮起，並點新增。</li>
</ul>
<p>知識庫表：</p>
<ul>
<li>支援十四位小寫英文以及_(下划號)</li>
</ul>
<p>通用詞：</p>
<ul>
<li><p>通常稱呼此表存入的物件，例如汽車就是&quot;車 汽車&quot;等。用空白當作一個詞。</p>
</li>
<li><p>搜尋時會根據，我想找汽車或我想找車...等，去做表格問答。</p>
</li>
</ul>
<p>對應辭典：</p>
<ul>
<li>根據現有辭典去做實體顯示。</li>
</ul>
<p><img src="../../../../images/docs/Image033.png" alt=""></p>
<h3 id="2新增知識庫表">2.新增知識庫表</h3>
<p>內容：</p>
<ul>
<li>唯一鍵:用英文表示唯一名稱，例如：價格通常會用price。</li>
<li>欄位:可用空白分隔欄位，用於搜索名稱。例如：價格會用&quot;價格 多少 價錢&quot;...等。</li>
<li>限制型態:分為&quot;關鍵字&quot;、&quot;數字&quot;、&quot;日期&quot;、&quot;文本&quot;或&quot;是否&quot;。</li>
<li>附加條件
<img src="../../../../images/docs/Image034.png" alt=""></li>
</ul>
<p>限制型態(補充):</p>
<ul>
<li>關鍵字：欄位屬性的值可以用於搜索。</li>
<li>數字：如：&quot;&quot;價格&quot;(屬性)在&quot;100萬以上&quot;(值)的有那些?&quot;，會搜尋價格在100萬以上的實體。</li>
<li>日期：可以判斷&quot;下禮拜&quot;、&quot;特定日期&quot;等問題。</li>
<li>文本：跟關鍵字不同，無法被用於搜索。</li>
<li>是否：判斷&quot;有沒有&quot;、&quot;是不是&quot;等問題。</li>
</ul>
<p>附加條件(補充):</p>
<ul>
<li>數字：包含了單位以及小數點。目前單位僅支援個、百、千、萬、億以及兆，主要目的但為單位轉換[但尚未實裝]，如：公斤轉克等</li>
<li>日期：包含了時區。</li>
</ul>
<h3 id="3修改知識庫表">3.修改知識庫表</h3>
<p>當進行修改時，可以發現有&quot;對話模板&quot;，假設實體為IPhone 13，價格為25900元，則系統會回傳</p>
<pre><code>{
  &quot;subject&quot;: {
    &quot;name&quot;: &quot;IPhone 13&quot;,
    &quot;price&quot;: &quot;25900&quot;
  }
}
</code></pre>
<p>模板：${#subject.name}的售價為${#subject.price}元。會顯示成&quot;IPhone 13 128G的售價為25900元&quot;。</p>
<p><img src="../../../../images/docs/Image039.png" alt=""></p>
<h3 id="4新增知識庫資料">4.新增知識庫資料</h3>
<p>依照實體為列，欄位為行，依序填入對應的值即可完成資料庫。
<img src="../../../../images/docs/Image035.png" alt=""></p>
<h3 id="步驟58">步驟5~8</h3>
<p>可跳至最下面，[接著讀-領域介紹]開始閱讀。</p>
<h2 id="問答對">問答對</h2>
<p>問答對通常是有固定的答案，如果問答對中沒有符合的<strong>答案</strong>，機器人就無法取得該答案回覆給用戶。</p>
<h4 id="新增問答對">新增問答對</h4>
<p>我們點選[+]，在點標[1]輸入最多十四位小寫英文以及_(下划號)，點取按鈕&quot;新增&quot;。
<img src="../../../../images/docs/Image036.png" alt=""></p>
<h4 id="新增問題">新增問題</h4>
<ul>
<li>點標[1]：輸入符合條件的用戶問題。</li>
<li>點標[2]：是否啟用該問題</li>
<li>點標[3]：是否啟用同步辭典，如果某辭典為：番茄，同義詞：西紅柿。而問題是&quot;你好哪裡有賣<strong>番茄</strong>&quot;，此時會延伸&quot;你好哪裡有賣<strong>西紅柿</strong>&quot;。</li>
<li>點標[4]：啟用啟動失效，會出現&quot;生效時間&quot;以及&quot;失效時間&quot;，目前必須兩個都填入值才能儲存。</li>
<li>點標[5]：可以啟用資源外接API，需要再綁定領域後才可使用<a href="../../tutorials/docs/domain-intro.html#%E8%B3%87%E6%BA%90%E7%AE%A1%E7%90%86">領域資源</a></li>
<li>點標[6]：分類，可自訂分類，將問題整理放入。</li>
<li>點標[7]：將用戶問題做延伸。</li>
<li>點標[8]：平台分為通用以及開啟的渠道，答案在渠道沒開啟或是該渠道沒新增答案時，以通用為主，答案目前僅有text、template以及redirect
<img src="../../../../images/docs/Image037.png" alt=""></li>
</ul>
<h4 id="回答型態">回答型態</h4>
<ul>
<li>1.text :純文本</li>
<li>2.template:模板[可透過resource回傳值注入]</li>
<li>3.redirect:(轉向場景[須搭配Bot Flow])</li>
</ul>
<p>參數前綴:</p>
<ul>
<li>constant:表示常數，代表輸入的都當成字串處理。</li>
<li>context:非業務資源使用參數，或是機器人流程傳遞參數使用。</li>
<li>config:領域內管理有個&quot;全域參數&quot;，可以提供鍵(key)，一般用於有固定值的auth或是secret的字串需要提交給用戶機器做驗證。</li>
</ul>
<h4 id="template模板輸出詳情">template模板輸出詳情</h4>
<ul>
<li>context-&gt;根據回傳值的鍵(key)做輸出，例如:${#context.comfortable}。</li>
<li>extractTime-&gt;將時間轉為字串的功能，例如:${%extractTime(#context.datetime,'yyyy年MM月dd日HH:mm','')}</li>
<li>listOutput-&gt;將陣列轉為字串的功能，例如:${%listOutput(#context.order,'${#item_break}第${#item_index}筆:日期${#item.date}, 金額為:${#item.money};' ,'1')}</li>
</ul>
<p>extracTime</p>
<p>第一個參數為回傳的數值[秒數]僅支持參數，尚未支持常數注入，第二個參數為日期格式，第三參數[尚未實裝]指定時區，預設會用機器人流程的時區。</p>
<p>listOutput</p>
<p>第一個參數為回傳的數值[需為array]，第二個參數為字串item_break為換行，item.xxx為當前forEach的鍵(key)，不支援nested(鑲嵌)</p>
<p>透過下圖選擇資源，並呼叫該資源得到JSON回應為</p>
<pre><code>{
  &quot;temperature&quot;: 16,
  &quot;datetime&quot;: &quot;1665990946&quot;,
  &quot;next_d&quot;: [
    {
      &quot;rain_per&quot;: &quot;100&quot;,
      &quot;date&quot;: &quot;2022-10-18&quot;
    },
    {
      &quot;rain_per&quot;: &quot;10&quot;,
      &quot;date&quot;: &quot;2022-10-19&quot;
    }
  ],
  &quot;comfortable&quot;: &quot;稍有寒意&quot;
}
</code></pre>
<p><img src="../../../../images/docs/Image114.png" alt=""></p>
<p>模板原本輸出</p>
<blockquote>
<p>舒適度:${#context.comfortable}，溫度${#context.temperature}度c
時間${%extractTime(#context.datetime,'yyyy年MM月dd日HH:mm','')}
${%listOutput(#context.next_d,'${#item_break}第${#item_index}筆:日期${#item.date}, 下雨機率:${#item.rain_per}%;' ,'1')}</p>
</blockquote>
<p>模板替代輸出</p>
<blockquote>
<p>舒適度:稍有寒意，溫度16度c
時間2022年10月17日14:48</p>
<p>第1筆:日期2022-10-18, 下雨機率:100%;</p>
<p>第2筆:日期2022-10-19, 下雨機率:10%;</p>
</blockquote>
<p>如果傳遞值未填寫或發生錯誤，僅會做參數值取代為空。</p>
<blockquote>
<p>舒適度，溫度度c
時間</p>
</blockquote>
<h2 id="接著讀">接著讀</h2>
<ul>
<li><a href="../../tutorials/docs/domain-intro.html">領域介紹</a></li>
</ul>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <span>Copyright © (2023) Communeify</span>
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../styles/main.js"></script>
  </body>
</html>
